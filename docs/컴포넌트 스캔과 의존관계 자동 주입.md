### @ComponentScan

* 자동으로 `@Component`가 붙은 컴포넌트를 해당 빈 등록을 해준다. (싱글톤)
* 빈 이름은 기본전략은 `MemberServiceImpl class` -> `memberServiceImpl`로 앞의 글자만 소문자로 바꿔서 등록 해준다.
    * 이름을 수정 할 수 있음.

```bash
15:47:41.702 [Test worker] DEBUG org.springframework.context.annotation.AnnotationConfigApplicationContext - Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@d049e53
15:47:41.708 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalConfigurationAnnotationProcessor'
15:47:41.758 [Test worker] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [SpringCorePrinciple_basic/core/build/classes/kotlin/main/com/inflearn/spring/core/discount/RateDiscountPolicy.class]
15:47:41.761 [Test worker] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [SpringCorePrinciple_basic/core/build/classes/kotlin/main/com/inflearn/spring/core/member/MemberServiceImpl.class]
15:47:41.762 [Test worker] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [SpringCorePrinciple_basic/core/build/classes/kotlin/main/com/inflearn/spring/core/member/MemoryMemberRepository.class]
15:47:41.763 [Test worker] DEBUG org.springframework.context.annotation.ClassPathBeanDefinitionScanner - Identified candidate component class: file [SpringCorePrinciple_basic/core/build/classes/kotlin/main/com/inflearn/spring/core/order/OrderServiceImpl.class]
15:47:41.881 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerProcessor'
15:47:41.882 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.event.internalEventListenerFactory'
15:47:41.883 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalAutowiredAnnotationProcessor'
15:47:41.884 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'org.springframework.context.annotation.internalCommonAnnotationProcessor'
15:47:41.910 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'autoAppConfig'
15:47:41.913 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'rateDiscountPolicy'
15:47:42.033 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'memberServiceImpl'
15:47:42.042 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'memoryMemberRepository'
15:47:42.044 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name 'memberServiceImpl' via constructor to bean named 'memoryMemberRepository'
15:47:42.045 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Creating shared instance of singleton bean 'orderServiceImpl'
15:47:42.047 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name 'orderServiceImpl' via constructor to bean named 'memoryMemberRepository'
15:47:42.047 [Test worker] DEBUG org.springframework.beans.factory.support.DefaultListableBeanFactory - Autowiring by type from bean name 'orderServiceImpl' via constructor to bean named 'rateDiscountPolicy'
```

테스트 코드를 돌려보면, `org.springframework.context.annotation.ClassPathBeanDefinitionScanner`이 동작해서 등록 해야 할
파일의 path를 찾는 것을 알 수 있다.

component scan의 base packages 지정은 굳이 하지 않고, 설정 클래스를 프로젝트 시작 위치에 두고, 쓰는게 좋다. (요즘 트렌드)

사실 이미, `@SpringBootApplication` 설정 안에 `@ComponentScan`이 있다.

### 스캔 기본 대상

* @Component
* @Service
  * 특별한 처리를 안함
* @Repository
  * 스프링 데이터 접근 계층으로 인식하고, 데이터 계층의 예외를 스프링 예외로 변환 해준다.
* @Controller
  * Spring MVC controller로 인식
* @Configuration
  * 스프링 설정 정보로 인식, 스프링 빈이 싱글톤을 유지하도록 추가 처리를 한다.

## filter

#### FilterType option

* ANNOTATION
  * 기본 값, 애노테이션을 인식하여 동작
* ASSIGNABLE
  * 지정한 타입과 자식 타입을 인식해서 동작한다.
* ASPECTJ
  * AspectJ 패턴 사용
* REGEX
  * 정규 표현식
* CUSTOM
  * `TypeFilter` 인터페이스를 구현해서 처리

대세는 `includeFilters`는 잘 안쓰고, `ExcludeFilters`는 간혹 쓸 일이 있다. (실무에서 쓸 일이 좀 잦음)

